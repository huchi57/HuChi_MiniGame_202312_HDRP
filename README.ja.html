<!DOCTYPE html><html><head>
      <title>README.ja</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///c:\Users\Chi\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.8.11\crossnote\dependencies\katex\katex.min.css">
      
      
      <script type="text/javascript" src="file:///c:\Users\Chi\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.8.11\crossnote\dependencies\mermaid\mermaid.min.js" charset="UTF-8"></script>
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="drifted">DRIFTED </h1>
<p>これは、開発中のゲーム DRIFTED（従来のタイトル：PlaneGame）の作業プロセスを含む Readme ファイルです。</p>
<h3 id="github-リポジトリはこちらhttpsgithubcomhuchi57planegame"><a href="https://github.com/huchi57/PlaneGame">GitHub リポジトリはこちら</a> </h3>
<h2 id="目次">目次 </h2>
<blockquote>
<ol>
<li><a href="#1-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A6%82%E8%A6%81">プロジェクト概要</a></li>
<li><a href="#2-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%97">プロジェクトスコープ</a></li>
<li><a href="#3-%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88">スクリプト</a></li>
<li><a href="#4-%E3%82%B2%E3%83%BC%E3%83%A0%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3">ゲームデザイン</a></li>
</ol>
</blockquote>
<h2 id="1-プロジェクト概要">1. プロジェクト概要 </h2>
<h3 id="セクション">セクション </h3>
<blockquote>
<p>1.1 <a href="#11-%E3%83%AA%E3%83%B3%E3%82%AF">リンク</a></p>
</blockquote>
<blockquote>
<p>1.2 <a href="#12-%E6%A6%82%E8%A6%81">概要</a></p>
</blockquote>
<blockquote>
<p>1.3 <a href="#13-%E3%82%B2%E3%83%BC%E3%83%A0%E3%83%97%E3%83%AC%E3%82%A4%E3%83%A1%E3%82%AB%E3%83%8B%E3%82%AF%E3%82%B9">ゲームプレイメカニクス</a></p>
</blockquote>
<h4 id="11-リンク">1.1 リンク </h4>
<ul>
<li><strong>Steam ページ:</strong> <a href="https://store.steampowered.com/app/2283820">https://store.steampowered.com/app/2283820</a></li>
<li><strong>Facebook ページ:</strong> <a href="https://www.facebook.com/DriftedTheGame">https://www.facebook.com/DriftedTheGame</a></li>
<li><strong>プレスキット:</strong> <a href="https://huchi57.com/drifted">https://huchi57.com/drifted</a></li>
</ul>
<h4 id="12-概要">1.2 概要 </h4>
<ul>
<li><strong>ジャンル:</strong> 3D 横スクロールアクション</li>
<li><strong>開発開始日:</strong> 2023年12月12日</li>
<li><strong>エンジン:</strong> Unity 2023.2.3.1f</li>
<li><strong>プログラミング言語:</strong> C#</li>
<li><strong>モデリング:</strong> Blender、ProBuilder</li>
<li><strong>テクスチャ:</strong> CC0 Public Domain Textures</li>
<li><strong>サウンド:</strong> Apple Loops ライブラリからの音を使用して FMOD Studio で組み立て</li>
<li><strong>フォント:</strong> Google によって設計された Noto ファミリー、Adrian Frutiger によって設計された Avenir フォントシリーズ</li>
<li><strong>プラットフォーム:</strong> Windows、Mac</li>
<li><strong>Steam ページ紹介:</strong> DRIFTED（仮題）はパズルプラットフォーマーアドベンチャーゲームである。プレイヤーキャラクターは紙飛行機で、暗くてディストピアの世界を冒険する。</li>
</ul>
<h3 id="13-ゲームプレイメカニクス">1.3 ゲームプレイメカニクス </h3>
<ul>
<li><strong>上に傾ける:</strong> 上キー、W キー、またはコントローラーの上</li>
<li><strong>下に傾ける:</strong> 下キー、S キー、またはコントローラーの下</li>
</ul>
<p><strong><a href="#%E7%9B%AE%E6%AC%A1">⬆ 目次に戻る</a></strong></p>
<h2 id="2-プロジェクトスコープ">2. プロジェクトスコープ </h2>
<h3 id="セクション-1">セクション </h3>
<blockquote>
<p>2.1 <a href="#21-%E3%82%B2%E3%83%BC%E3%83%A0%E3%83%95%E3%83%AD%E3%83%BC%E3%83%81%E3%83%A3%E3%83%BC%E3%83%88">ゲームフローチャート</a></p>
</blockquote>
<blockquote>
<p>2.2 <a href="#22-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E6%A7%8B%E9%80%A0">プロジェクトの構造</a></p>
</blockquote>
<h3>2.1 ゲームフローチャート</h3>
<div class="mermaid">graph TD;
    StartUp--&gt;CheckSaves;
    CheckSaves--&gt;LoadScenesFromSaves;
    LoadScenesFromSaves--&gt;WaitForGameStart;
    WaitForGameStart--&gt;GameLoop;
    GameLoop--&gt;GameOver;
    GameOver--&gt;LoadScenesFromSaves;
    GameLoop--&gt;PauseMenu;
    PauseMenu--&gt;GameLoop;
    PauseMenu--&gt;QuitGame;
    GameLoop--&gt;GameCompleted;
    GameCompleted--&gt;LoadScenesFromSaves;
</div><h2 id="22-プロジェクトの構造">2.2 プロジェクトの構造 </h2>
<p>Unity プロジェクトの Asset フォルダーは、次の四つのセクションに分かれています：</p>
<ol>
<li><code>_Core</code> フォルダーは、自分で作業しているすべての Unity プロジェクトに使用する共通カスタムパッケージ <em>UrbanFox Core</em> で構成されています。</li>
<li><code>_PlaneGame</code> フォルダーには、このプロジェクトのために作成されたスクリプトやその他のアセットが含まれています。<code>Resources</code> や <code>StreamingAssets</code> を除き、プロジェクトに関連するすべてのアセットはこのフォルダーの中で追加します。</li>
<li><code>Resources</code> や <code>StreamingAssets</code> などの特殊なフォルダーには、自動的に生成されるファイルや必要に応じて追加されるファイルが含まれています。</li>
<li>サードパーティーファイルは、それらの元のフォルダーパスにインポートされます。通常、これらは変更されず、他の場所にも移動されません。</li>
</ol>
<p>最初の二つのセクションは、手動で作成またはインポートしたファイルです。以下は、フォルダー構造のより詳細な構造です。</p>
<h5 id="プロジェクトの-asset-フォルダーの構造">プロジェクトの Asset フォルダーの構造 </h5>
<pre>_Core/
     Scripts/
        Editor/
            AttributeDrawers/
            CustomEditors/
            EditorWindows/
            Extensions/
            MenuItemTools/
            Utilities/
            [UrbanFox.Editor.asmdef]
        Runtime/
            Attributes/
            Components/
            Extensions/
            Localization/
            ScriptableObjects/
            Utilities/
            [UrbanFox.asmdef]
_PlaneGame/
    Materials/
    Models/
    Prefabs/
    Scenes/
    Scripts/
        Editor/
            CustomEditors/
            Utilities/
            [UrbanFox.MiniGame.Editor.asmdef]
        Runtime/
            AudioSystems/
            CameraSystems/
            GameFlow/
            Gameplay/
            Helpers/
            InputSystems/
            ScriptableObjects/
            UI/
            [UrbanFox.MiniGame.asmdef]
    ...
Plugins/
    ...
Resources/
    Languages/
        ...
    ...
StreamingAssets/
    ...
...
</pre>
<p><strong><a href="#%E7%9B%AE%E6%AC%A1">⬆ 目次に戻る</a></strong></p>
<h2 id="3-スクリプト">3. スクリプト </h2>
<blockquote>
<p>3.1 <a href="#31-%E5%85%B1%E9%80%9A%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88">共通スクリプト</a></p>
</blockquote>
<blockquote>
<p>3.2 <a href="#32-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88">プロジェクトスクリプト</a></p>
</blockquote>
<h3 id="31-共通スクリプト">3.1 共通スクリプト </h3>
<p>自分で Unity を長年使用の経験で、開発スピードを向上させるために、共通の機能や拡張メソッドが含まれたカスタムパッケージ <em>UrbanFox Core</em> を作成しました。</p>
<p>これらのスクリプトは、<code>Assets/_Core/Scripts</code> の下に保存されています。このゲームで使用したいくつかの重要な機能は以下の通りです。</p>
<h4 id="拡張メソッド">拡張メソッド </h4>
<h5 id="mathextensions">MathExtensions </h5>
<p><code>MathExtensions</code> は、数学計算に関する一般的な機能を含む静的クラスです。このプロジェクトで最もよく使用される関数は次の通りです：</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// MathExtensions.cs</span>

<span class="token comment">// 値が範囲内にある場合は true を返し、それ以外の場合は false を返します。</span>
<span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token function">IsInRange</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> <span class="token keyword keyword-value">value</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> rangeStart<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> rangeEnd<span class="token punctuation">)</span>

<span class="token comment">// オイラー角を範囲 [0, 360] に変換します。</span>
<span class="token return-type class-name"><span class="token keyword keyword-float">float</span></span> <span class="token function">Angle360</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> angle<span class="token punctuation">)</span>

<span class="token comment">// オイラー角を範囲 [-180, 180] に変換します。</span>
<span class="token return-type class-name"><span class="token keyword keyword-float">float</span></span> <span class="token function">AnglePositiveOrNegative180</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> angle<span class="token punctuation">)</span>
</code></pre><h5 id="collectionextensions">CollectionExtensions </h5>
<p><code>CollectionExtensions</code> は、<code>ICollection</code> インターフェースを実装するデータ型に対する一般的な操作を含む静的クラスです。このプロジェクトで最もよく使用される関数は次のとおりです：</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// CollectionExtensions.cs</span>

<span class="token comment">// コレクションが null であるか、またはアイテム数が 0 の場合は true を返し、</span>
<span class="token comment">// それ以外の場合は false を返します。</span>
<span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token generic-method"><span class="token function">IsNullOrEmpty</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token class-name">ICollection<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> collection<span class="token punctuation">)</span>

<span class="token comment">// インデックスが範囲 [0, collection.Count - 1] にある場合、true を返します、</span>
<span class="token comment">// それ以外の場合は false を返します。</span>
<span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token generic-method"><span class="token function">IsInRange</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> index<span class="token punctuation">,</span> <span class="token class-name">ICollection<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> collection<span class="token punctuation">)</span>

<span class="token comment">// コレクションからランダムアイテムを返します。</span>
<span class="token return-type class-name">T</span> <span class="token function">SelectRandom</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token class-name">ICollection<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> collection<span class="token punctuation">)</span>
</code></pre><h4 id="ローカライゼーションシステム">ローカライゼーションシステム </h4>
<p>ローカライゼーションを基盤から構築し、Google Spreadsheet から言語データをダウンロードするツールを作成しました。これにより、テスターやレビュワーがエディタをインストールせずにテキストを簡単に確認できます。ローカライゼーションデータは、次の手順でダウンロードされ、解析され、そしてプロジェクトに保存されます：</p>
<ol>
<li>
<p>Spreadsheet のデータを行単位でダウンロードします。列の数が必要な言語データセットの数を決定します。</p>
</li>
<li>
<p>2行目以降、各行は、キーと値のペアを使用して個々の言語セットに書き込まれます。</p>
</li>
<li>
<p>Spreadsheet 全体でデータ解析が終了すると、データは XML ファイルに書き込まれ、<code>Resource</code> フォルダーに保存されます。</p>
</li>
</ol>
<p>ゲーム内では、文字列の <code>TryGetLocalization()</code> を呼び出すだけで、正しいローカライズされた値を返し、キーが見つからない場合はエラー値を返します。</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// Localization.cs</span>

<span class="token comment">// ゲーム言語が変更されるたびに呼び出されるイベントコールバック。</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-event">event</span> Action OnLanguageChanged

<span class="token comment">// キーをローカライズできる場合は true を返し、それ以外の場合は false を返します。</span>
<span class="token comment">// out パラメーターの値はローカライズの結果です。</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-bool">bool</span></span> <span class="token function">TryGetLocalization</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> key<span class="token punctuation">,</span> <span class="token keyword keyword-out">out</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> <span class="token keyword keyword-value">value</span><span class="token punctuation">)</span>

<span class="token comment">// ゲームの現在の言語を設定します</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">SetLanguage</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> languageName<span class="token punctuation">)</span>
</code></pre><img src="Images/Readme/localization-google.png" alt="flowchart">
<p>Google Spreadsheet 上のローカライゼーションテーブル</p>
<img src="Images/Readme/localization-unity.png" alt="flowchart">
<p>Unity エディター内のローカライゼーションテーブル、複数の言語、カスタム言語コード、および検索をサポート</p>
<h4 id="シーンマネージャー">シーンマネージャー </h4>
<p>独自のシーンマネージャーは Unity の組み込み <code>SceneManager</code> を拡張し、複数のシーンを一度に読み込むおよび解放する機能をさらにサポートしています。</p>
<p>これらの読み込むおよび解放機能は、操作が完了したときや進捗が更新されているときに呼び出される追加のコールバックもサポートしています。これは、UIアイテム（ローディングバーなど）の現在の読み込みプロセスのパーセンテージが必要な場合に便利です。</p>
<p>これらの関数には、一つのシーンのための等価物やコルーチンの代替も含まれています。</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// FoxySceneManager.cs</span>

<span class="token comment">// オプションのコールバックを使用して、バックグラウンドでシーンのリストを読み込みます。</span>
<span class="token comment">// onComplete は完了時に呼び出され、onProgress は進行状況を示す場合に呼び出されます。</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">LoadScenes</span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span> scenes<span class="token punctuation">,</span> 
    <span class="token class-name">Action</span> onComplete <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span><span class="token keyword keyword-float">float</span><span class="token punctuation">&gt;</span></span> onProgress <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>

<span class="token comment">// オプションのコールバックを使用して、バックグラウンドでシーンのリストを解放します。</span>
<span class="token comment">// onComplete は完了時に呼び出され、onProgress は進行状況を示す場合に呼び出されます。</span>
<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-static">static</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">UnloadScenes</span><span class="token punctuation">(</span><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword keyword-string">string</span><span class="token punctuation">&gt;</span></span> scenes<span class="token punctuation">,</span>
    <span class="token class-name">Action</span> onComplete <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span><span class="token keyword keyword-float">float</span><span class="token punctuation">&gt;</span></span> onProgress <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
</code></pre><img src="Images/Readme/scenes.png" alt="scene-manager">
<p>Scene Browser のプレビュー</p>
<h4 id="カスタム属性">カスタム属性 </h4>
<p>より明確なデータ表示のためにエディタウィンドウを整理し、null であってはならない参照を強調表示し、さまざまな条件に応じて不要なデータフィールドを非表示または無効化するために複数の属性が実装されています。いくつかの属性には <code>ShowIf</code>、<code>EnableIf</code>、<code>ShowIfNot</code>、<code>EnableIfNot</code>、<code>Indent</code>、<code>Required</code>、<code>NonEditable</code> があります。</p>
<p>以下は、このプロジェクトで使用される <code>ShowIf</code> 属性の使用例です：</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// ObjectSpawner.cs</span>

<span class="token punctuation">[</span>SerializeField<span class="token punctuation">]</span>
<span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-bool">bool</span></span> m_randomizeRotation<span class="token punctuation">;</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">SerializeField</span><span class="token punctuation">,</span> <span class="token class-name">Indent</span><span class="token punctuation">,</span> <span class="token class-name">ShowIf</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword keyword-nameof">nameof</span><span class="token punctuation">(</span>m_randomizeRotation<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> m_eulerAngleXMin<span class="token punctuation">;</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">SerializeField</span><span class="token punctuation">,</span> <span class="token class-name">Indent</span><span class="token punctuation">,</span> <span class="token class-name">ShowIf</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword keyword-nameof">nameof</span><span class="token punctuation">(</span>m_randomizeRotation<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> m_eulerAngleXMax<span class="token punctuation">;</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">SerializeField</span><span class="token punctuation">,</span> <span class="token class-name">Indent</span><span class="token punctuation">,</span> <span class="token class-name">ShowIf</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword keyword-nameof">nameof</span><span class="token punctuation">(</span>m_randomizeRotation<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> m_eulerAngleYMin<span class="token punctuation">;</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">SerializeField</span><span class="token punctuation">,</span> <span class="token class-name">Indent</span><span class="token punctuation">,</span> <span class="token class-name">ShowIf</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword keyword-nameof">nameof</span><span class="token punctuation">(</span>m_randomizeRotation<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> m_eulerAngleYMax<span class="token punctuation">;</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">SerializeField</span><span class="token punctuation">,</span> <span class="token class-name">Indent</span><span class="token punctuation">,</span> <span class="token class-name">ShowIf</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword keyword-nameof">nameof</span><span class="token punctuation">(</span>m_randomizeRotation<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> m_eulerAngleZMin<span class="token punctuation">;</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">SerializeField</span><span class="token punctuation">,</span> <span class="token class-name">Indent</span><span class="token punctuation">,</span> <span class="token class-name">ShowIf</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword keyword-nameof">nameof</span><span class="token punctuation">(</span>m_randomizeRotation<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> m_eulerAngleZMax<span class="token punctuation">;</span>
</code></pre><table>
<thead>
<tr>
<th><img src="Images/Readme/attribute-showif-false.png" alt="attribute show if false" width="400px"></th>
<th><img src="Images/Readme/attribute-showif-true.png" alt="attribute show if true" width="400px"></th>
</tr>
</thead>
<tbody>
<tr>
<td>インスペクター表示：ShowIf が false を返す場合</td>
<td>インスペクター表示：ShowIf が true を返す場合</td>
</tr>
</tbody>
</table>
<h4 id="カラーパレット生成ツール">カラーパレット生成ツール </h4>
<p>これは、4x4グリッド上に16色のカラーパレットテクスチャを生成するツールです。色は手動で設定するか、画像テクスチャから取得して自動的に設定することができます。画像をグリッドに分割し、各グリッド上の平均色を計算することで色を取得します。</p>
<p>このツールは、このプロジェクトでは特に効果があります。なぜなら、ゲーム内のほとんどのメッシュが同じマスターマテリアルを共有しているため、異なる面のUVを変更することで、ほとんどのメッシュを同じ描画呼び出しにドローコールのバッチ処理することができ、レンダリング時間を短縮できるからです。</p>
<img src="Images/Readme/palette.png" alt="color-palette">
<p>カラーパレット生成ツールのプレビュー画像</p>
<h3 id="32-プロジェクトスクリプト">3.2 プロジェクトスクリプト </h3>
<h4 id="ゲームプレイフレームワーク">ゲームプレイフレームワーク </h4>
<ul>
<li>
<p><code>GameManager</code> は、他のすべてのシステムが追加および削除できるすべてのイベントを保持するシングルトンコンポーネントです。これらのイベントは、異なるゲーム状態に応じて呼び出されます。また、シーンの読み込みロジック、ゲーム状態へのグローバルアクセス、およびプレイヤーへの参照も含まれています。</p>
</li>
<li>
<p><code>SettingsManager</code> は、設定データをファイルに読み込み/書き込みするシングルトンコンポーネントです。</p>
</li>
<li>
<p><code>InputManager</code> は、ユーザーの入力を処理するシングルトンコンポーネントです。このプロジェクトに必要な関数のみを公開するカスタムでシンプルな実装で、Unity の InputSystem を拡張しています。</p>
</li>
<li>
<p><code>AudioManager</code> は、オーディオバスへの参照を含み、グローバルおよびゲーム内のオーディオのフェードインとフェードアウトを制御するシングルトンコンポーネントです。</p>
</li>
<li>
<p><code>UIManager</code> は、ゲーム内のすべてのUIを処理するシングルトンコンポーネントで、ポーズメニューやスプラッシュスクリーン、フルスクリーンのフェードインとフェードアウトなどを含みます。</p>
</li>
</ul>
<h4 id="プレイヤーコントローラー">プレイヤーコントローラー </h4>
<p><code>PlayerController</code> はゲームプレイの核心です。最大の制御性を確保するために、組み込みの物理は通常無効にされます。代わりに、カスタムのルールセットが定義されます：</p>
<ul>
<li>
<p>このコンポーネントはプレイヤーから上下の入力を受け取り、提供された入力値を使用して紙飛行機を上下に傾けます。</p>
</li>
<li>
<p>入力がない場合、飛行機はカスタム重力に引かれるかのように徐々に下方に傾きます。それは終端速度に達するまでです。</p>
</li>
<li>
<p>加速度は現在の速度、現在のピッチ角度、および限界閾値によって定義されます。</p>
</li>
<li>
<p>飛行機が過度な時間を上方に傾けた場合、一時的に上方向の入力を無視し、飛行機を徐々に下方に傾けます。</p>
</li>
<li>
<p>もし飛行機がゲームオーバーのシグナルを受け取った場合、たとえば障害物に衝突したり、<code>WindTrigger</code>に捕らえられたりした場合、ユーザーの入力は無視され、デフォルト物理演算がコントロールを引き継ぎ、飛行機がチェックポイントの位置にリセットされるまで物理をシミュレートします。</p>
</li>
</ul>
<h4 id="カメラシステム">カメラシステム </h4>
<p>Unity の Cinemachine システムからインスピレーションを受けて、プレビューボタンでハンドルを使用してプレーヤーとカメラの相対距離の異なる参照ポイントを視覚化するための独自のカメラワークの実装を行いました。</p>
<p>各参照ポイントには異なるデータが含まれ、逆距離加重を使用して、加重平均値および現在のカメラデータを使用して、次のフレームのデータが <code>CameraBrain</code> コンポーネントで計算されます。このコンポーネントには、ゲーム内の実際のカメラへの参照が含まれています。</p>
<blockquote>
<p><strong>逆距離加重</strong></p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>z</mi><mi>p</mi></msub><mo>=</mo><mfrac><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mo stretchy="false">(</mo><mfrac><msub><mi>z</mi><mi>i</mi></msub><msubsup><mi>d</mi><mi>i</mi><mi>p</mi></msubsup></mfrac><mo stretchy="false">)</mo></mrow><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mo stretchy="false">(</mo><mfrac><mn>1</mn><msubsup><mi>d</mi><mi>i</mi><mi>p</mi></msubsup></mfrac><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">z_p = \frac{\sum\limits_{i=1}^{n}(\frac{z_i}{d_i^p})}{\sum\limits_{i=1}^{n}(\frac{1}{d_i^p})}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.9381em;vertical-align:-2.2191em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7191em;"><span style="top:-2.11em;"><span class="pstrut" style="height:3.3514em;"></span><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3514em;"><span style="top:-2.1223em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">∑</span></span></span><span style="top:-3.95em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.6361em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7912em;"><span style="top:-2.1777em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-2.9837em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3223em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5895em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span><span style="top:-3.5814em;"><span class="pstrut" style="height:3.3514em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-4.7191em;"><span class="pstrut" style="height:3.3514em;"></span><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3514em;"><span style="top:-2.1223em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">∑</span></span></span><span style="top:-3.95em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7115em;"><span style="top:-2.6361em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7912em;"><span style="top:-2.1777em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-2.9837em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3223em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.044em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5895em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.2191em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 個のインデックスの中で、各点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> に対して与えられた <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi></mrow><annotation encoding="application/x-tex">z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span> 値と距離 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span></span></span></span>。</p>
</blockquote>
<p>以下は、計算される <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi></mrow><annotation encoding="application/x-tex">z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span> 値である、ポイントデータの構造体定義です：</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// CameraContributorPointData.cs</span>

<span class="token keyword keyword-public">public</span> <span class="token keyword keyword-struct">struct</span> <span class="token class-name">CameraContributorPointData</span>
<span class="token punctuation">{</span>
    <span class="token comment">// パラメータが指定されていない場合のデフォルト値</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> DefaultPositionLerpSpeed <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> DefaultRotationSlerpSpeed <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> DefaultFOV <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-const">const</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> DefaultFOVLerpSpeed <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

    <span class="token comment">// データの参照点（ワールド座標）</span>
    <span class="token keyword keyword-public">public</span> <span class="token class-name">Vector3</span> ReferencePoint<span class="token punctuation">;</span>

    <span class="token comment">// 位置エフェクター</span>
    <span class="token keyword keyword-public">public</span> <span class="token class-name">Vector3</span> DistanceFromTargetToCamera<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token class-name">Vector3</span> PositionOffsetAfterLookAt<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> PositionLerpSpeed<span class="token punctuation">;</span>

    <span class="token comment">// 回転エフェクター</span>
    <span class="token keyword keyword-public">public</span> <span class="token class-name">Vector3</span> LookAtOffsetDistanceFromTarget<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> RotationSlerpSpeed<span class="token punctuation">;</span>

    <span class="token comment">// レンズエフェクター</span>
    <span class="token keyword keyword-public">public</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> FOV<span class="token punctuation">;</span>
    <span class="token keyword keyword-public">public</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> FOVLerpSpeed<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>各フレームごとに、<code>CameraBrain</code> は優先度の高い影響ポイントを計算し、プレイヤーの位置と影響ポイントのワールド座標に基づいて目標結果を計算し、カメラはその目標に対して計算された結果から補間します。</p>
<p>カメラの影響ポイントは、以下の関数によって追加/削除されます：</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// CameraBrain.cs</span>

<span class="token comment">// 計算に寄与する影響ポイントを追加します（プレイヤーが Trigger に入ったとき）。</span>
<span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">AddContributor</span><span class="token punctuation">(</span><span class="token class-name">CameraContributorBase</span> contributor<span class="token punctuation">)</span>

<span class="token comment">// 計算から寄与影響ポイントを削除します（プレイヤーが Trigger から出たとき）。</span>
<span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">RemoveContributor</span><span class="token punctuation">(</span><span class="token class-name">CameraContributorBase</span> contributor<span class="token punctuation">)</span>

<span class="token comment">// すべての寄与影響ポイントを削除します（ゲームが再起動されるとき）。</span>
<span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">ClearAllContributors</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><img src="Images/Readme/camera-system.png" alt="camera-system">
<p>カメラ影響ポイントのデータ編集プレビュー</p>
<h4 id="ui-system">UI System </h4>
<p><code>UIPage</code> は、<code>UIPageGroup</code> からアクセスされる一連の UI 要素を表示する基本要素です。 <code>UIPage</code> は、開かれたり閉じたり、履歴スタックに保存されたり、グループ全体が完全に閉じられた場合に、最後に訪れたページを記憶します。</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><code><span class="token comment">// UIPageGroup.cs</span>

<span class="token comment">// ページグループを開き、デフォルトの最初のページ、</span>
<span class="token comment">// またはページ履歴のトップスタックにキャッシュされたページを開きます。</span>
<span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">OpenPageGroup</span><span class="token punctuation">(</span><span class="token class-name">Action</span> onCompleted <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>

<span class="token comment">// ページグループを閉じます。</span>
<span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">ClosePageGroup</span><span class="token punctuation">(</span><span class="token class-name">Action</span> onCompleted <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>

<span class="token comment">// 現在の開いているページを閉じ、履歴スタックに保存し、ターゲットページを開きます。</span>
<span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">GotoPage</span><span class="token punctuation">(</span><span class="token class-name">UIPage</span> page<span class="token punctuation">)</span>

<span class="token comment">// 現在の開いているページを閉じ、履歴スタックのトップをポップして開きます。</span>
<span class="token comment">// 履歴が空の場合はページグループ全体を閉じます。</span>
<span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-void">void</span></span> <span class="token function">TryGotoPreviousPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><h4 id="その他のゲームプレイ要素">その他のゲームプレイ要素 </h4>
<h5 id="スピナー">スピナー </h5>
<p>ゲーム内のスピナーは、オブジェクトを回転させるだけでなく、対象のメッシュのコピーを作成し、透明度を徐々に低下させて、モーションブラーが適用されたような効果を作成します。この効果を使用する理由は、ポストプロセッシングではなく、スピンするオブジェクトだけがモーションブラー効果を持つことを望んでいるためです。</p>
<img src="Images/Readme/spinner.png" alt="spinner">
<p>スピナーのインスペクター表示のプレビュー</p>
<h5 id="パスファインディング巡回">パスファインディング巡回 </h5>
<p>プレイヤーを検出しない場合、巡回ドローンが事前に定義された路線に従って移動します。この路線は、配置されたポイントから構成され、それによって二次ベジェ曲線または三次ベジェ曲線が定義されます。</p>
<p>二次ベジェ曲線または三次ベジェ曲線のオプションは、インスペクターパネルで決定できます。どちらの場合でも、パスをエディターで事前に可視化することができます。</p>
<blockquote>
<p><strong>二次ベジエ曲線</strong></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">B</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><msub><mi mathvariant="bold">P</mi><mn mathvariant="bold">0</mn></msub><mo>+</mo><mn>2</mn><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><mo stretchy="false">)</mo><mi>t</mi><msub><mi mathvariant="bold">P</mi><mn mathvariant="bold">1</mn></msub><mo>+</mo><msup><mi>t</mi><mn>2</mn></msup><msub><mi mathvariant="bold">P</mi><mn mathvariant="bold">2</mn></msub><mo separator="true">,</mo><mn>0</mn><mo>≤</mo><mi>t</mi><mo>≤</mo><mn>1.</mn></mrow><annotation encoding="application/x-tex">\mathbf{B}(t)=(1-t)^2\mathbf{P_0}+2(1-t)t\mathbf{P_1}+t^2\mathbf{P_2},0\leq t\leq 1.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbf">B</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord mathnormal">t</span><span class="mord"><span class="mord mathbf">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1.</span></span></span></span></p>
</blockquote>
<blockquote>
<p><strong>三次ベジエ曲線</strong></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">B</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><msup><mo stretchy="false">)</mo><mn>3</mn></msup><msub><mi mathvariant="bold">P</mi><mn mathvariant="bold">0</mn></msub><mo>+</mo><mn>3</mn><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mi>t</mi><msub><mi mathvariant="bold">P</mi><mn mathvariant="bold">1</mn></msub><mo>+</mo><mn>3</mn><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><mo stretchy="false">)</mo><msup><mi>t</mi><mn>2</mn></msup><msub><mi mathvariant="bold">P</mi><mn mathvariant="bold">2</mn></msub><mo>+</mo><msup><mi>t</mi><mn>3</mn></msup><msub><mi mathvariant="bold">P</mi><mn mathvariant="bold">3</mn></msub><mo separator="true">,</mo><mn>0</mn><mo>≤</mo><mi>t</mi><mo>≤</mo><mn>1.</mn></mrow><annotation encoding="application/x-tex">\mathbf{B}(t)=(1-t)^3\mathbf{P_0}+3(1-t)^2t\mathbf{P_1}+3(1-t)t^2\mathbf{P_2}+t^3\mathbf{P_3},0\leq t\leq 1.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbf">B</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathnormal">t</span><span class="mord"><span class="mord mathbf">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1.</span></span></span></span></p>
</blockquote>
<img src="Images/Readme/patrol.png" alt="patrol-drones">
<p>巡回用ドローンのインスペクター表示のプレビュー</p>
<h5 id="コンベアベルト">コンベアベルト </h5>
<p>ゲーム内のコンベアベルトはすべて静的メッシュです。これらは、上にあるオブジェクトに力を加え、ベルトがスクロールしているように見えるように UV スクロール効果を使用しています。</p>
<p><strong><a href="#%E7%9B%AE%E6%AC%A1">⬆ 目次に戻る</a></strong></p>
<h2 id="4-ゲームデザイン">4. ゲームデザイン </h2>
<h3 id="セクション-2">セクション </h3>
<blockquote>
<p>4.1 <a href="#41-%E3%83%AC%E3%83%99%E3%83%AB%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3">レベルデザイン</a></p>
</blockquote>
<blockquote>
<p>4.2 <a href="#42-%E3%83%A9%E3%82%A4%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0">ライティング</a></p>
</blockquote>
<blockquote>
<p>4.3 <a href="#43-%E3%82%AA%E3%83%BC%E3%83%87%E3%82%A3%E3%82%AA">オーディオ</a></p>
</blockquote>
<h3 id="41-レベルデザイン">4.1 レベルデザイン </h3>
<p>ゲームの初期のプロトタイプ作成には約一週間かかりました。この期間には、プレイヤーの移動の微調整や、さまざまな種類のレベルと障害物のブロックアウトのテストが含まれます。プロジェクト内のすべてのオブジェクトは、広大で孤独な世界を作成するために、プレイヤーの紙飛行機のサイズを基準にしています。ゲームメカニクスのため、ゲームが進行するにつれてレベルは徐々に高度を下げていき、ゲームの世界の暗く深い進行感を与えます。</p>
<table>
<thead>
<tr>
<th><img src="Images/Readme/sketch.jpg" alt="sketch" height="300"></th>
<th><img src="Images/Readme/level-factory.jpg" alt="level-factory" height="300"></th>
</tr>
</thead>
<tbody>
<tr>
<td>レベルのオリジナルの落書き</td>
<td>同じレベルのゲーム内の様子</td>
</tr>
</tbody>
</table>
<img src="Images/Readme/levels.png" alt="fmod">
<p>現在のフルゲームのレイアウト（ポストプロセスエフェクトなし）</p>
<h3 id="42-ライティング">4.2 ライティング </h3>
<p>このプロジェクトではUnityのHDRP（High Definition Render Pipeline）を使用して、水やリアルタイムエリアライト、霧、ボリューメトリックライトなどの機能を活用しました。</p>
<p>このゲームの雰囲気作りには、霧やボリューメトリックライトが重要な役割を果たしています。これらは背景の環境を遮蔽するブロックアウトとなるだけでなく、多くの小道具を配置せずに美しいシーンを作り出すための素晴らしいディテールを提供しています。</p>
<img src="Images/Readme/ocean.jpg" alt="ocean">
<p>ゲーム内の海は、Unity の水レンダラーとフォームジェネレーターによってレンダリングされています</p>
<h3 id="43-オーディオ">4.3 オーディオ </h3>
<p>このプロジェクトでは、オーディオ用のミドルウェアとしてFMODとApple Loopオーディオファイルを使用しています。サウンドはFMOD Studioで「イベント」として作成され、異なるトラックやオーディオファイル、ループ、音色の変化、EQ、リバーブ、ランダムピッチなどの効果や変調が定義されます。これらのイベントはUnityでリアルタイムに再生/一時停止/停止され、ゲーム内の公開されたパラメータを調整することで異なる効果を持たせることができます。このプロジェクトのサウンドは、異なる領域には異なるリバーブゾーンスナップショットがあり、実世界のオーディオゾーンを模倣した異なる効果音が作成されます。</p>
<p>バスは、オーディオイベントが送信されるグループです。効果はバスに適用され、このバスに送信されるすべてのイベントに影響を与えることができます。また、シグナルは他のグループに送信することもできます。このプロジェクトでは、個々の種類の音声イベントを制御する異なるバスがあります。</p>
<img src="Images/Readme/fmod.png" alt="fmod">
<p>FMOD Studio のスクリーンショット</p>
<p><strong><a href="#%E7%9B%AE%E6%AC%A1">⬆ 目次に戻る</a></strong></p>

      </div>
      
      
    
    
    <script type="module">
// TODO: If ZenUML gets integrated into mermaid in the future,
//      we can remove the following lines.


var MERMAID_CONFIG = ({"startOnLoad":false});
if (typeof MERMAID_CONFIG !== 'undefined') {
  MERMAID_CONFIG.startOnLoad = false
  MERMAID_CONFIG.cloneCssStyles = false
  MERMAID_CONFIG.theme = "default"
}

mermaid.initialize(MERMAID_CONFIG || {})
if (typeof(window['Reveal']) !== 'undefined') {
  function mermaidRevealHelper(event) {
    var currentSlide = event.currentSlide
    var diagrams = currentSlide.querySelectorAll('.mermaid')
    for (var i = 0; i < diagrams.length; i++) {
      var diagram = diagrams[i]
      if (!diagram.hasAttribute('data-processed')) {
        mermaid.init(null, diagram, ()=> {
          Reveal.slide(event.indexh, event.indexv)
        })
      }
    }
  }
  Reveal.addEventListener('slidetransitionend', mermaidRevealHelper)
  Reveal.addEventListener('ready', mermaidRevealHelper)
  await mermaid.run({
    nodes: document.querySelectorAll('.mermaid')
  })
} else {
  await mermaid.run({
    nodes: document.querySelectorAll('.mermaid')
  })
}
</script>
    
    
    
  
    </body></html>